{"version":3,"file":"storage-chart.js","sources":["pages/admin/components/storage-chart.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDoveXgwMS9VaUFwcC9wZDA3L3BkMDcxL3BhZ2VzL2FkbWluL2NvbXBvbmVudHMvc3RvcmFnZS1jaGFydC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"storage-chart\">\r\n    <!-- 这里需要引入实际的图表组件，这里用简单的DOM模拟 -->\r\n    <view class=\"chart-ring\">\r\n      <view \r\n        class=\"ring-segment\"\r\n        v-for=\"(value, key) in data\"\r\n        :key=\"key\"\r\n        :style=\"{\r\n          backgroundColor: colors[key],\r\n          transform: `rotate(${getRotation(key)}deg)`,\r\n          width: `${value}%`\r\n        }\"\r\n      ></view>\r\n    </view>\r\n    \r\n    <view class=\"chart-legend\">\r\n      <view \r\n        class=\"legend-item\"\r\n        v-for=\"(value, key) in data\"\r\n        :key=\"key\"\r\n      >\r\n        <view \r\n          class=\"legend-color\"\r\n          :style=\"{backgroundColor: colors[key]}\"\r\n        ></view>\r\n        <text class=\"legend-text\">{{labels[key]}}</text>\r\n        <text class=\"legend-value\">{{value}}%</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StorageChart',\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  data() {\r\n    return {\r\n      colors: {\r\n        supplier: '#1890ff',\r\n        production: '#52c41a',\r\n        management: '#faad14'\r\n      },\r\n      labels: {\r\n        supplier: '供应商仓',\r\n        production: '生产仓',\r\n        management: '管理仓'\r\n      }\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    getRotation(key) {\r\n      let rotation = 0\r\n      for(const k in this.data) {\r\n        if(k === key) break\r\n        rotation += this.data[k]\r\n      }\r\n      return rotation * 3.6 // 将百分比转换为角度\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.storage-chart {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n}\r\n\r\n.chart-ring {\r\n  width: 200rpx;\r\n  height: 200rpx;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.ring-segment {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  transform-origin: 100% 50%;\r\n}\r\n\r\n.chart-legend {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n}\r\n\r\n.legend-color {\r\n  width: 24rpx;\r\n  height: 24rpx;\r\n  border-radius: 4rpx;\r\n}\r\n\r\n.legend-text {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.legend-value {\r\n  font-size: 24rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n</style> ","import Component from 'D:/yx01/UiApp/pd07/pd071/pages/admin/components/storage-chart.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AAkCA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,OAAO;AAAA,IACL,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EAED,OAAO;AACL,WAAO;AAAA,MACL,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,YAAY;AAAA,MACb;AAAA,MACD,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,YAAY;AAAA,MACd;AAAA,IACF;AAAA,EACD;AAAA,EAED,SAAS;AAAA,IACP,YAAY,KAAK;AACf,UAAI,WAAW;AACf,iBAAU,KAAK,KAAK,MAAM;AACxB,YAAG,MAAM;AAAK;AACd,oBAAY,KAAK,KAAK,CAAC;AAAA,MACzB;AACA,aAAO,WAAW;AAAA,IACpB;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;ACnEA,GAAG,gBAAgB,SAAS;"}