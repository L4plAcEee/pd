{"version":3,"file":"index.js","sources":["pages/admin/index.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcYWRtaW5caW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"admin-container\">\r\n    <!-- 顶部快捷操作 -->\r\n    <view class=\"quick-actions\">\r\n      <view \r\n        class=\"action-item\"\r\n        v-for=\"(action, index) in quickActions\"\r\n        :key=\"index\"\r\n        @tap=\"handleQuickAction(action.type)\"\r\n      >\r\n        <text class=\"action-icon\">{{action.icon}}</text>\r\n        <view class=\"action-info\">\r\n          <text class=\"action-name\">{{action.name}}</text>\r\n          <text class=\"action-desc\">{{action.desc}}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 数据概览 -->\r\n    <view class=\"data-overview\">\r\n      <view class=\"section-header\">\r\n        <text class=\"section-title\">数据概览</text>\r\n        <text class=\"refresh-btn\" @tap=\"refreshData\">刷新</text>\r\n      </view>\r\n      \r\n      <!-- 仓库状态 -->\r\n      <view class=\"chart-card\">\r\n        <view class=\"card-header\">\r\n          <text class=\"card-title\">仓库状态</text>\r\n          <text class=\"more-btn\" @tap=\"navigateTo('/pages/admin/storage')\">详情</text>\r\n        </view>\r\n        <view class=\"chart-container\">\r\n          <storage-chart \r\n            :data=\"storageData\"\r\n            @tap=\"showStorageDetail\"\r\n          />\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 用户活跃度 -->\r\n      <view class=\"chart-card\">\r\n        <view class=\"card-header\">\r\n          <text class=\"card-title\">用户活跃度</text>\r\n          <text class=\"more-btn\" @tap=\"navigateTo('/pages/admin/users')\">详情</text>\r\n        </view>\r\n        <view class=\"chart-container\">\r\n          <user-activity-chart :data=\"activityData\" />\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 待办事项 -->\r\n    <view class=\"todo-section\">\r\n      <view class=\"section-header\">\r\n        <text class=\"section-title\">待办事项</text>\r\n        <text class=\"count-badge\">{{todoList.length}}</text>\r\n      </view>\r\n      \r\n      <view class=\"todo-list\">\r\n        <view \r\n          class=\"todo-item\"\r\n          v-for=\"(item, index) in todoList\"\r\n          :key=\"index\"\r\n          @tap=\"handleTodo(item)\"\r\n        >\r\n          <view class=\"todo-content\">\r\n            <text class=\"todo-tag\" :class=\"item.type\">{{item.tag}}</text>\r\n            <text class=\"todo-text\">{{item.content}}</text>\r\n          </view>\r\n          <text class=\"todo-time\">{{item.time}}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 功能模块入口 -->\r\n    <view class=\"module-grid\">\r\n      <view \r\n        class=\"module-item\"\r\n        v-for=\"(module, index) in modules\"\r\n        :key=\"index\"\r\n        @tap=\"navigateTo(module.path)\"\r\n      >\r\n        <text class=\"module-icon\">{{module.icon}}</text>\r\n        <text class=\"module-name\">{{module.name}}</text>\r\n        <text class=\"module-desc\">{{module.desc}}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 权限确认弹窗 -->\r\n    <view class=\"auth-modal\" v-if=\"showAuth\">\r\n      <view class=\"modal-content\">\r\n        <text class=\"modal-title\">权限验证</text>\r\n        <input \r\n          class=\"auth-input\"\r\n          type=\"password\"\r\n          v-model=\"authPassword\"\r\n          placeholder=\"请输入管理密码\"\r\n        />\r\n        <view class=\"modal-btns\">\r\n          <button \r\n            class=\"cancel-btn\"\r\n            @tap=\"cancelAuth\"\r\n          >取消</button>\r\n          <button \r\n            class=\"confirm-btn\"\r\n            @tap=\"confirmAuth\"\r\n          >确认</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- Toast提示 -->\r\n    <pd-toast ref=\"toast\" />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport PdToast from '@/components/pd-toast/pd-toast'\r\nimport StorageChart from './components/storage-chart.vue'\r\nimport UserActivityChart from './components/user-activity-chart.vue'\r\n\r\nexport default {\r\n  components: {\r\n    PdToast,\r\n    StorageChart,\r\n    UserActivityChart\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      // 快捷操作\r\n      quickActions: [\r\n        {\r\n          icon: '📦',\r\n          name: '库存调整',\r\n          desc: '快速调整库存',\r\n          type: 'storage'\r\n        },\r\n        {\r\n          icon: '📝',\r\n          name: '订单审核',\r\n          desc: '待处理订单',\r\n          type: 'order'\r\n        },\r\n        {\r\n          icon: '💰',\r\n          name: '结算处理',\r\n          desc: '本月待结算',\r\n          type: 'settlement'\r\n        }\r\n      ],\r\n\r\n      // 仓库数据\r\n      storageData: {\r\n        supplier: 30,\r\n        production: 45,\r\n        management: 25\r\n      },\r\n\r\n      // 活跃度数据\r\n      activityData: {\r\n        roles: [\r\n          { name: '供应商', value: 40 },\r\n          { name: '生产部', value: 35 },\r\n          { name: '品控部', value: 15 },\r\n          { name: '管理员', value: 10 }\r\n        ],\r\n        timeline: [\r\n          /* 时段数据 */\r\n        ]\r\n      },\r\n\r\n      // 待办事项\r\n      todoList: [\r\n        {\r\n          type: 'warning',\r\n          tag: '库存',\r\n          content: '原料库存不足，请及时处理',\r\n          time: '10:30'\r\n        },\r\n        {\r\n          type: 'info',\r\n          tag: '订单',\r\n          content: '新订单待审核',\r\n          time: '09:45'\r\n        }\r\n      ],\r\n\r\n      // 功能模块\r\n      modules: [\r\n        {\r\n          icon: '📊',\r\n          name: '订单管理',\r\n          desc: '订单查询与处理',\r\n          path: '/pages/admin/orders'\r\n        },\r\n        {\r\n          icon: '👥',\r\n          name: '用户管理',\r\n          desc: '用户权限控制',\r\n          path: '/pages/admin/users'\r\n        },\r\n        {\r\n          icon: '🏭',\r\n          name: '仓库监控',\r\n          desc: '库存实时监控',\r\n          path: '/pages/admin/storage'\r\n        },\r\n        {\r\n          icon: '💳',\r\n          name: '财务中心',\r\n          desc: '结算与对账',\r\n          path: '/pages/admin/finance'\r\n        }\r\n      ],\r\n\r\n      // 权限验证\r\n      showAuth: false,\r\n      authPassword: '',\r\n      pendingAction: null\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 刷新数据\r\n    async refreshData() {\r\n      try {\r\n        // TODO: 调用API获取最新数据\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        \r\n        this.$refs.toast.show({\r\n          type: 'success',\r\n          message: '数据已更新'\r\n        })\r\n      } catch(e) {\r\n        this.$refs.toast.show({\r\n          type: 'error',\r\n          message: '更新失败'\r\n        })\r\n      }\r\n    },\r\n\r\n    // 处理快捷操作\r\n    handleQuickAction(type) {\r\n      switch(type) {\r\n        case 'storage':\r\n          this.showAuthModal(() => {\r\n            uni.navigateTo({ url: '/pages/admin/storage' })\r\n          })\r\n          break\r\n        case 'order':\r\n          uni.navigateTo({ url: '/pages/admin/orders' })\r\n          break\r\n        case 'settlement':\r\n          this.showAuthModal(() => {\r\n            uni.navigateTo({ url: '/pages/admin/finance' })\r\n          })\r\n          break\r\n      }\r\n    },\r\n\r\n    // 显示权限验证\r\n    showAuthModal(callback) {\r\n      this.pendingAction = callback\r\n      this.showAuth = true\r\n    },\r\n\r\n    // 取消验证\r\n    cancelAuth() {\r\n      this.showAuth = false\r\n      this.authPassword = ''\r\n      this.pendingAction = null\r\n    },\r\n\r\n    // 确认验证\r\n    async confirmAuth() {\r\n      if(!this.authPassword) {\r\n        this.$refs.toast.show({\r\n          type: 'warning',\r\n          message: '请输入密码'\r\n        })\r\n        return\r\n      }\r\n\r\n      try {\r\n        // TODO: 验证密码\r\n        await new Promise(resolve => setTimeout(resolve, 500))\r\n        \r\n        this.showAuth = false\r\n        this.authPassword = ''\r\n        \r\n        if(this.pendingAction) {\r\n          this.pendingAction()\r\n          this.pendingAction = null\r\n        }\r\n      } catch(e) {\r\n        this.$refs.toast.show({\r\n          type: 'error',\r\n          message: '验证失败'\r\n        })\r\n      }\r\n    },\r\n\r\n    // 处理待办\r\n    handleTodo(item) {\r\n      // TODO: 根据待办类型处理\r\n      console.log('处理待办:', item)\r\n    },\r\n\r\n    // 页面跳转\r\n    navigateTo(url) {\r\n      uni.navigateTo({ url })\r\n    }\r\n  },\r\n\r\n  onShow() {\r\n    this.refreshData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.admin-container {\r\n  min-height: 100vh;\r\n  background: #f8f8f8;\r\n  padding: 20rpx;\r\n}\r\n\r\n/* 快捷操作 */\r\n.quick-actions {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 20rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.action-item {\r\n  background: #fff;\r\n  padding: 20rpx;\r\n  border-radius: 12rpx;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.action-icon {\r\n  font-size: 40rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.action-info {\r\n  flex: 1;\r\n}\r\n\r\n.action-name {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n  display: block;\r\n}\r\n\r\n.action-desc {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 数据概览 */\r\n.data-overview {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n\r\n.refresh-btn {\r\n  font-size: 28rpx;\r\n  color: #1890ff;\r\n}\r\n\r\n.chart-card {\r\n  background: #fff;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.card-title {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n\r\n.more-btn {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.chart-container {\r\n  height: 300rpx;\r\n}\r\n\r\n/* 待办事项 */\r\n.todo-section {\r\n  background: #fff;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.count-badge {\r\n  background: #1890ff;\r\n  color: #fff;\r\n  font-size: 24rpx;\r\n  padding: 4rpx 12rpx;\r\n  border-radius: 20rpx;\r\n}\r\n\r\n.todo-list {\r\n  margin-top: 20rpx;\r\n}\r\n\r\n.todo-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20rpx 0;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.todo-content {\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n\r\n.todo-tag {\r\n  font-size: 24rpx;\r\n  padding: 4rpx 12rpx;\r\n  border-radius: 4rpx;\r\n  margin-right: 12rpx;\r\n}\r\n\r\n.todo-tag.warning {\r\n  background: #fff7e6;\r\n  color: #faad14;\r\n}\r\n\r\n.todo-tag.info {\r\n  background: #e6f7ff;\r\n  color: #1890ff;\r\n}\r\n\r\n.todo-text {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.todo-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 功能模块 */\r\n.module-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 20rpx;\r\n}\r\n\r\n.module-item {\r\n  background: #fff;\r\n  padding: 30rpx;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.module-icon {\r\n  font-size: 48rpx;\r\n  margin-bottom: 16rpx;\r\n  display: block;\r\n}\r\n\r\n.module-name {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n  margin-bottom: 8rpx;\r\n  display: block;\r\n}\r\n\r\n.module-desc {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 权限弹窗 */\r\n.auth-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.6);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  width: 600rpx;\r\n  background: #fff;\r\n  border-radius: 12rpx;\r\n  padding: 40rpx;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.auth-input {\r\n  height: 80rpx;\r\n  background: #f8f8f8;\r\n  border-radius: 8rpx;\r\n  padding: 0 20rpx;\r\n  font-size: 28rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.modal-btns {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n\r\n.cancel-btn, .confirm-btn {\r\n  flex: 1;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  text-align: center;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.cancel-btn {\r\n  background: #f5f5f5;\r\n  color: #666;\r\n}\r\n\r\n.confirm-btn {\r\n  background: #1890ff;\r\n  color: #fff;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/yx01/UiApp/pd07/pd071/pages/admin/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAqHA,gBAAgB,MAAW;AAC3B,qBAAqB,MAAW;AAChC,MAAO,oBAAmB,MAAW;AAErC,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACD;AAAA,EAED,OAAO;AACL,WAAO;AAAA;AAAA,MAEL,cAAc;AAAA,QACZ;AAAA,UACE,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,QACR;AAAA,MACD;AAAA;AAAA,MAGD,aAAa;AAAA,QACX,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,YAAY;AAAA,MACb;AAAA;AAAA,MAGD,cAAc;AAAA,QACZ,OAAO;AAAA,UACL,EAAE,MAAM,OAAO,OAAO,GAAI;AAAA,UAC1B,EAAE,MAAM,OAAO,OAAO,GAAI;AAAA,UAC1B,EAAE,MAAM,OAAO,OAAO,GAAI;AAAA,UAC1B,EAAE,MAAM,OAAO,OAAO,GAAG;AAAA,QAC1B;AAAA,QACD,UAAU;AAAA;AAAA,QAEV;AAAA,MACD;AAAA;AAAA,MAGD,UAAU;AAAA,QACR;AAAA,UACE,MAAM;AAAA,UACN,KAAK;AAAA,UACL,SAAS;AAAA,UACT,MAAM;AAAA,QACP;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,KAAK;AAAA,UACL,SAAS;AAAA,UACT,MAAM;AAAA,QACR;AAAA,MACD;AAAA;AAAA,MAGD,SAAS;AAAA,QACP;AAAA,UACE,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,QACP;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,QACR;AAAA,MACD;AAAA;AAAA,MAGD,UAAU;AAAA,MACV,cAAc;AAAA,MACd,eAAe;AAAA,IACjB;AAAA,EACD;AAAA,EAED,SAAS;AAAA;AAAA,IAEP,MAAM,cAAc;AAClB,UAAI;AAEF,cAAM,IAAI,QAAQ,aAAW,WAAW,SAAS,GAAI,CAAC;AAEtD,aAAK,MAAM,MAAM,KAAK;AAAA,UACpB,MAAM;AAAA,UACN,SAAS;AAAA,SACV;AAAA,MACH,SAAQ,GAAG;AACT,aAAK,MAAM,MAAM,KAAK;AAAA,UACpB,MAAM;AAAA,UACN,SAAS;AAAA,SACV;AAAA,MACH;AAAA,IACD;AAAA;AAAA,IAGD,kBAAkB,MAAM;AACtB,cAAO,MAAI;AAAA,QACT,KAAK;AACH,eAAK,cAAc,MAAM;AACvBA,0BAAAA,MAAI,WAAW,EAAE,KAAK,wBAAwB;AAAA,WAC/C;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,WAAW,EAAE,KAAK,uBAAuB;AAC7C;AAAA,QACF,KAAK;AACH,eAAK,cAAc,MAAM;AACvBA,0BAAAA,MAAI,WAAW,EAAE,KAAK,wBAAwB;AAAA,WAC/C;AACD;AAAA,MACJ;AAAA,IACD;AAAA;AAAA,IAGD,cAAc,UAAU;AACtB,WAAK,gBAAgB;AACrB,WAAK,WAAW;AAAA,IACjB;AAAA;AAAA,IAGD,aAAa;AACX,WAAK,WAAW;AAChB,WAAK,eAAe;AACpB,WAAK,gBAAgB;AAAA,IACtB;AAAA;AAAA,IAGD,MAAM,cAAc;AAClB,UAAG,CAAC,KAAK,cAAc;AACrB,aAAK,MAAM,MAAM,KAAK;AAAA,UACpB,MAAM;AAAA,UACN,SAAS;AAAA,SACV;AACD;AAAA,MACF;AAEA,UAAI;AAEF,cAAM,IAAI,QAAQ,aAAW,WAAW,SAAS,GAAG,CAAC;AAErD,aAAK,WAAW;AAChB,aAAK,eAAe;AAEpB,YAAG,KAAK,eAAe;AACrB,eAAK,cAAc;AACnB,eAAK,gBAAgB;AAAA,QACvB;AAAA,MACF,SAAQ,GAAG;AACT,aAAK,MAAM,MAAM,KAAK;AAAA,UACpB,MAAM;AAAA,UACN,SAAS;AAAA,SACV;AAAA,MACH;AAAA,IACD;AAAA;AAAA,IAGD,WAAW,MAAM;AAEfA,oBAAAA,MAAY,MAAA,OAAA,gCAAA,SAAS,IAAI;AAAA,IAC1B;AAAA;AAAA,IAGD,WAAW,KAAK;AACdA,0BAAI,WAAW,EAAE,KAAK;AAAA,IACxB;AAAA,EACD;AAAA,EAED,SAAS;AACP,SAAK,YAAY;AAAA,EACnB;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7TA,GAAG,WAAW,eAAe;"}